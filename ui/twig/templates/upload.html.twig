{% extends "layout/base.html.twig" %}

{% block title %}
    Key Metadata
{% endblock %}

{% block content %}
    <nav aria-label="breadcrumb" class="mt-3 mb-3">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">Home</a></li>

            {% if bucketName %}
                <li class="breadcrumb-item">Bucket <a href="{{ href(bucketName) }}">{{ bucketName }}</a></li>
            {% endif %}

            {% if prefix %}
                <li class="breadcrumb-item">Prefix <a href="{{ href(bucketName, '', prefix) }}">{{ prefix }}</a></li>
            {% endif %}

            <li class="breadcrumb-item active" aria-current="page">Uploading</li>
        </ol>
    </nav>

    {% if status %}
        <div class="alert alert-{{ 'ok' == status ? 'success' : 'danger' }}" role="alert">
            {{ msg|default }}
        </div>
    {% endif %}

    <h1 class="display-5 fw-bold text-body-emphasis mb-3">
        Upload the file
    </h1>

    <div class="col-lg-6 mx-auto">
        <p class="lead mb-4">
            Select the file to upload to the bucket
        </p>
        <p>
            This project is open source, and contributions are welcome.
            Feel free to contribute and help improve PhpS3Admin!
        </p>

        <form method="post" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="labelBucket" class="form-label">Bucket</label>
                <input type="text" value="{{ bucketName }}" class="form-control" id="labelBucket" name="prefix">
            </div>
            <div class="mb-3">
                <label for="labelPrefix" class="form-label">Prefix</label>
                <input type="text" value="{{ prefix|default }}" class="form-control" id="labelPrefix" name="prefix">
            </div>
            <div class="mb-3">
                <label for="fileUpload" class="form-label">Choose file to upload</label>
                <input type="file" class="form-control" id="fileUpload" name="file">
            </div>
            <button type="submit" class="btn btn-primary">Upload</button>
        </form>
    </div>
{% endblock %}
